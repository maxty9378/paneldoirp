# –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –¥–æ–º–µ–Ω–∞ doirp.ru

## ‚úÖ –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ:

1. **DNS –∑–∞–ø–∏—Å–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã** –≤ reg.ru:
   - `A @ ‚Üí 51.250.94.103`
   - `A www ‚Üí 51.250.94.103`

2. **Nginx —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω** –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
   - –°–ª—É—à–∞–µ—Ç –ø–æ—Ä—Ç—ã 80 (HTTP) –∏ 443 (HTTPS)
   - –ü—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ Supabase (–ø–æ—Ä—Ç 8000)

## ‚è≥ –ß—Ç–æ –Ω—É–∂–Ω–æ –ø–æ–¥–æ–∂–¥–∞—Ç—å:

**DNS —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ:** 10-60 –º–∏–Ω—É—Ç
- DNS –∑–∞–ø–∏—Å–∏ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã, –Ω–æ –º–æ–≥—É—Ç –µ—â–µ –Ω–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–∏—Ç—å—Å—è –ø–æ –≤—Å–µ–º DNS —Å–µ—Ä–≤–µ—Ä–∞–º
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: `nslookup doirp.ru` - –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å `51.250.94.103`

## üîß –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å Supabase** (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –∑–∞–ø—É—â–µ–Ω):
   ```bash
   ssh -i src/ssh/ssh-key-doirp-01 doirp@51.250.94.103
   cd ~/supabase
   supabase start
   ```

2. **–û—Ç–∫—Ä—ã—Ç—å –ø–æ—Ä—Ç—ã –≤ —Ñ–∞–π—Ä–≤–æ–ª–µ –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–æ:**
   - –ü–æ—Ä—Ç 80 (HTTP)
   - –ü–æ—Ä—Ç 443 (HTTPS)
   - –ü–æ—Ä—Ç 8000 (Supabase API, —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞)

3. **–ü–æ–ª—É—á–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç** (–¥–ª—è HTTPS):
   ```bash
   ssh -i src/ssh/ssh-key-doirp-01 doirp@51.250.94.103
   sudo apt install -y certbot python3-certbot-nginx
   sudo certbot --nginx -d doirp.ru -d www.doirp.ru
   ```

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞:

–ü–æ—Å–ª–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è DNS (10-60 –º–∏–Ω—É—Ç):
- `http://doirp.ru` - –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è
- `http://www.doirp.ru` - –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è
- `http://doirp.ru/health` - –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å "healthy"

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –¥–æ–º–µ–Ω –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Supabase: `SITE_URL=https://doirp.ru`
2. –û–±–Ω–æ–≤–∏—Ç—å `.env.production.local`: `VITE_SUPABASE_URL=https://doirp.ru`

