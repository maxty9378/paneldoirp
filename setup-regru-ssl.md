# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DomainSSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –æ—Ç reg.ru

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### 1. –°–∫–∞—á–∞—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —Å reg.ru

–í –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è reg.ru:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **SSL** –∏–ª–∏ **–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã**
2. –ù–∞–π–¥–∏—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è `doirp.ru`
3. –°–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª—ã:
   - **–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç** (–æ–±—ã—á–Ω–æ `.crt` –∏–ª–∏ `.pem`)
   - **–ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á** (–æ–±—ã—á–Ω–æ `.key`)
   - **–¶–µ–ø–æ—á–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤** (–µ—Å–ª–∏ –µ—Å—Ç—å, –æ–±—ã—á–Ω–æ `chain.crt` –∏–ª–∏ `ca-bundle.crt`)

### 2. –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä:

```powershell
# –ó–∞–º–µ–Ω–∏—Ç–µ –ø—É—Ç–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –ø—É—Ç–∏ –∫ —Å–∫–∞—á–∞–Ω–Ω—ã–º —Ñ–∞–π–ª–∞–º
scp -i src/ssh/ssh-key-doirp-01 –ø—É—Ç—å/–∫/—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—É.crt doirp@51.250.94.103:/tmp/doirp.ru.crt
scp -i src/ssh/ssh-key-doirp-01 –ø—É—Ç—å/–∫/–∫–ª—é—á—É.key doirp@51.250.94.103:/tmp/doirp.ru.key
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
ssh -i src/ssh/ssh-key-doirp-01 doirp@51.250.94.103

# –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Ñ–∞–π–ª—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
sudo mv /tmp/doirp.ru.crt /etc/nginx/ssl/doirp.ru/
sudo mv /tmp/doirp.ru.key /etc/nginx/ssl/doirp.ru/

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
sudo chmod 644 /etc/nginx/ssl/doirp.ru/doirp.ru.crt
sudo chmod 600 /etc/nginx/ssl/doirp.ru/doirp.ru.key
sudo chown root:root /etc/nginx/ssl/doirp.ru/*
```

### 4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Nginx –¥–ª—è HTTPS

–û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é `/etc/nginx/sites-available/doirp.ru` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ HTTPS.

## üîÑ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–ï—Å–ª–∏ reg.ru –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ—ë.

